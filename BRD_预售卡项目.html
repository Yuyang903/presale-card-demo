<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>预售卡兑换系统商业需求文档 (BRD)</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            background-color: #f9f9f9;
        }
        .container {
            background-color: #fff;
            padding: 50px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-radius: 8px;
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 2px solid #eaeaea;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            margin-top: 30px;
            border-left: 5px solid #3498db;
            padding-left: 15px;
        }
        h3 {
            color: #7f8c8d;
            margin-top: 25px;
        }
        ul, ol {
            padding-left: 20px;
        }
        li {
            margin-bottom: 10px;
        }
        strong {
            color: #e74c3c;
        }
        p {
            margin-bottom: 15px;
            text-align: justify;
        }
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>预售卡兑换系统商业需求文档 (BRD)</h1>
        
        <h2>1. 项目背景 (Project Background)</h2>
        <p>随着市场竞争的加剧，为了拓宽销售渠道，增加商品的预售能力及礼品属性，公司计划推出“预售卡”业务。通过线下或线上发售印有唯一二维码的实物/电子卡片，用户购买或获赠后，可通过扫描二维码直接兑换指定商品。此举旨在连接线上线下场景，提升用户体验，并促进商品销售。</p>

        <h2>2. 项目目标 (Project Objectives)</h2>
        <ul>
            <li><strong>构建闭环兑换流程</strong>：实现从“制卡”、“生产”、“分发”到“用户扫码”、“商品发货”的完整业务闭环。</li>
            <li><strong>建立用户账户体系</strong>：通过微信授权登录等方式，建立用户账户体系，沉淀私域流量，方便用户查询历史订单及物流进度。</li>
            <li><strong>提升用户体验</strong>：简化兑换流程，用户注册登录后扫码即可填写地址兑换。</li>
            <li><strong>数据沉淀</strong>：收集持卡用户数据（如收货地域分布、兑换时间偏好），为后续营销提供数据支持。</li>
            <li><strong>安全性保障</strong>：确保每一张预售卡的唯一性和防伪性，防止恶意盗刷。</li>
        </ul>

        <h2>3. 目标用户 (Target Audience)</h2>
        <ul>
            <li><strong>卡片购买者</strong>：企业采购（员工福利、商务馈赠）、个人购买（礼品赠送）。</li>
            <li><strong>卡片持有者（兑换者）</strong>：收到预售卡并希望兑换商品的用户。</li>
            <li><strong>运营管理人员</strong>：负责制卡、激活、订单管理及物流监控的内部人员。</li>
            <li><strong>分发商/代理商</strong>：协助销售卡片的合作伙伴。</li>
        </ul>

        <h2>4. 业务流程概述 (Business Process Overview)</h2>
        <p>根据核心需求，业务主流程如下：</p>
        <ol>
            <li><strong>制卡与管理</strong>：
                <ul>
                    <li>系统生成唯一的卡号和二维码链接。</li>
                    <li><strong>支持多种卡类型</strong>：普通商品卡（绑定特定商品）和积分礼品卡（绑定积分面额）。</li>
                    <li><strong>生产与激活</strong>：导出卡密数据进行卡片生产（印刷），并在后台进行批次激活。</li>
                </ul>
            </li>
            <li><strong>分发与销售</strong>：
                <ul>
                    <li>通过分发商、线下售卖机或线上渠道进行卡片销售与分发。</li>
                </ul>
            </li>
            <li><strong>用户登录与验证</strong>：
                <ul>
                    <li>用户扫描卡面二维码。</li>
                    <li><strong>注册/登录</strong>：系统检测用户登录状态，未登录用户需进行注册或通过微信授权登录。</li>
                    <li>系统校验二维码有效性（是否激活、是否已兑换）。</li>
                </ul>
            </li>
            <li><strong>兑换与下单</strong>：
                <ul>
                    <li><strong>根据卡类型路由</strong>：商品卡进入商品详情页；积分卡进入积分商城页。</li>
                    <li>用户填写收货人信息（姓名、电话、地址）。</li>
                    <li>提交订单，系统将卡片二维码ID与用户账号及生成的实物订单进行绑定，标记卡片状态为“已使用”。</li>
                </ul>
            </li>
            <li><strong>履约发货</strong>：
                <ul>
                    <li>后台生成发货单，仓库发货。</li>
                    <li>用户可在个人中心或通过扫码查询物流进度。</li>
                </ul>
            </li>
        </ol>

        <h2>5. 功能需求 (Functional Requirements)</h2>
        
        <h3>5.1 后台管理系统 (Admin Portal)</h3>
        <ul>
            <li><strong>卡片管理</strong>：
                <ul>
                    <li><strong>批量制卡</strong>：生成卡号、二维码数据。<strong>支持选择“商品卡”或“积分卡”类型</strong>。</li>
                    <li><strong>卡片状态管理</strong>：未激活、已激活、已兑换、已作废。</li>
                    <li><strong>商品/积分绑定</strong>：商品卡绑定特定商品；积分卡设置积分面额及关联商品池。</li>
                    <li><strong>生产支持</strong>：导出加密卡密数据供工厂生产。</li>
                </ul>
            </li>
            <li><strong>分发商管理</strong>：
                <ul>
                    <li>管理分发商信息及合作状态，支持业绩统计。</li>
                </ul>
            </li>
            <li><strong>订单管理</strong>：
                <ul>
                    <li><strong>兑换记录</strong>：查询卡号对应的兑换订单信息及关联的用户账号。</li>
                    <li><strong>发货管理</strong>：订单导出、物流单号回填。</li>
                </ul>
            </li>
            <li><strong>数据统计</strong>：
                <ul>
                    <li>发卡量、激活率、兑换率、用户增长统计。</li>
                </ul>
            </li>
        </ul>

        <h3>5.2 用户端 (Client Side - H5/小程序)</h3>
        <ul>
            <li><strong>账户体系</strong>：
                <ul>
                    <li><strong>注册/登录</strong>：支持手机号验证码注册登录，支持<strong>微信一键授权登录</strong>。</li>
                    <li><strong>个人中心</strong>：查看个人信息、历史兑换记录、物流进度。</li>
                </ul>
            </li>
            <li><strong>扫码解析</strong>：
                <ul>
                    <li>自动识别二维码参数，校验卡片状态。</li>
                    <li><strong>异常处理</strong>：若卡片未激活提示“请联系管理员”，若已兑换提示“该卡已兑换”，并展示物流信息。</li>
                </ul>
            </li>
            <li><strong>商品详情页</strong>：
                <ul>
                    <li>展示该卡可兑换的商品图片、名称、规格。</li>
                </ul>
            </li>
            <li><strong>下单页</strong>：
                <ul>
                    <li>收货地址填写（支持智能识别粘贴板地址，支持保存常用地址）。</li>
                    <li>提交订单按钮（防重复提交）。</li>
                </ul>
            </li>
            <li><strong>兑换成功页</strong>：
                <ul>
                    <li>展示订单号，引导关注公众号或查看物流入口。</li>
                </ul>
            </li>
        </ul>

        <h2>6. 非功能需求 (Non-functional Requirements)</h2>
        <ul>
            <li><strong>安全性</strong>：
                <ul>
                    <li>二维码URL需包含加密签名，防止暴力破解卡号。</li>
                    <li>兑换接口需加锁，防止高并发下的“一卡多兑”情况。</li>
                    <li>用户信息加密存储，保障隐私安全。</li>
                </ul>
            </li>
            <li><strong>性能</strong>：
                <ul>
                    <li>支持节假日等高峰期的并发扫码访问。</li>
                </ul>
            </li>
            <li><strong>易用性</strong>：
                <ul>
                    <li>登录流程需流畅，优先推荐微信一键登录，降低用户门槛。</li>
                </ul>
            </li>
        </ul>

        <h2>7. 风险评估 (Risk Assessment)</h2>
        <ul>
            <li><strong>卡片遗失/被盗</strong>：需制定补卡或挂失策略（如基于卡密）。</li>
            <li><strong>物流异常</strong>：用户填错地址或物流丢件，需有客服介入流程。</li>
            <li><strong>恶意刷单</strong>：防止通过接口批量试探卡号。</li>
        </ul>

        <h2>9. 渠道合作模式解析 (Channel Cooperation Models)</h2>
        <p>为适应多样化的市场推广需求，系统支持两种主要的分发商合作模式，并对应不同的财务管理流程。</p>
        
        <h3>9.1 分销模式 (Distribution Model)</h3>
        <ul>
            <li><strong>定义</strong>：分发商作为代理销售方，不承担库存积压风险，按实际销售量进行结算。</li>
            <li><strong>适用对象</strong>：拥有流量但无供应链能力的KOL、MCN机构、小型分销商。</li>
            <li><strong>业务流程</strong>：
                <ol>
                    <li><strong>发卡</strong>：后台登记批次、数量，将卡密数据或实物卡分发给分销商。</li>
                    <li><strong>销售</strong>：分销商通过自有渠道销售。</li>
                    <li><strong>结算</strong>：
                        <ul>
                            <li><strong>周期</strong>：通常按月结算（根据实际激活/售出数量）。</li>
                            <li><strong>我方收款模式</strong>：用户直接向我方支付（如线上商城）。我方统计销售额，计算渠道佣金支付给分销商，分销商开具服务费发票。</li>
                            <li><strong>对方收款模式</strong>：用户向分销商支付。分销商定期提供真实销售报表，扣除约定服务费（佣金）后，将余款支付给我方，并提供服务费发票。</li>
                        </ul>
                    </li>
                </ol>
            </li>
        </ul>

        <h3>9.2 经销模式 (Dealership Model)</h3>
        <ul>
            <li><strong>定义</strong>：经销商买断货权，预先支付货款，承担销售及库存风险。</li>
            <li><strong>适用对象</strong>：大型企业采购、具有强分销能力的批发商。</li>
            <li><strong>业务流程</strong>：
                <ol>
                    <li><strong>收款</strong>：经销商根据采购协议，预先支付全额或定金货款。</li>
                    <li><strong>制单</strong>：后台根据收款金额创建采购订单。</li>
                    <li><strong>发货</strong>：生成并交付实物卡或卡密数据给经销商。</li>
                    <li><strong>开票</strong>：我方根据实际收到的货款金额，向经销商开具销售发票。</li>
                    <li><strong>后续</strong>：经销商自行制定销售策略，用户兑换履约仍由我方负责。</li>
                </ol>
            </li>
        </ul>
    </div>
</body>
</html>